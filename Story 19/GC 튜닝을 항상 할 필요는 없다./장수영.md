### GC튜닝을 꼭 해야할까?

- GC 튜닝이 필요없다는 건 운영 중인 java 기반 시스템의 옵션에 아래 항목이 추가돼 있을때의 경우
    - -Xms 옵션과 -Xmx 옵션으로 메모리 크기를 지정
    - -server 옵션이 포함되어 있다
    - 시스템의 로그에 타임아웃 관련 로그가 남아있지 않아야 함
        - DB 작업과 관련된 타임아웃
        - 다른 서버와의 통신시 타임아웃
    
- GC 튜닝을 하는 게 좋은 경우
    - JVM의 메모리 크기 지정X
    - Timeout이 지속적으로 발생

- GC 튜닝의 목적
    - Old영역으로 너멍가는 객체의 수 최소화하기
    - Full GC 시간 줄이기

### GC의 성능을 결정하는 옵션들

| 구분 | 옵션 | 설명 |
| --- | --- | --- |
| heap영역 크기 | -Xms | JVM시작시 힙영역 크기 |
|  | -Xmx | 최대 힙 영역 크기 |
| New 영역 크기 | -XX:NewRatio | New영역과 Old영역의 비율 |
|  | -XX:NewSize | New영역의 크기 |
|  | -XX:SurvivorRatio | Eden영역과 Survivor영역의 비율 |

### GC튜닝의 절차

- GC 상황 모니터링
- 모니터링 결과 분석 후 GC튜닝 여부 결정
    - GC 수행시간이 1~3초가 넘는 상황이면 GC 튜닝 진행
- GC방식, 메모리 크기 지정
- 결과분석
    - GC 옵션 지정하고 적어도 24시간 이상 데이터를 수집한 후에 분석을 실시
    - GC 방식, 메모리 크기를 변경해가면서 최적의 옵션을 찾아나간다.
- 서버 반영

# 내용정리

---

### 패턴과 아키텍처는 잘 구성되어 있는가?

- 너무 많은 패턴을 사용하지 않았는가?
  - 꼭 필요한 패턴만 사용하자
- 데이터를 리턴할 때 TO 패턴을 사용하였는가? 아니면 Collection 관련 클래스를 사용하였는가?
  - 유지보수 성이 떨어진다. (무지성 reqMap 등)
- 서비스 로케이터 패턴은 적용되었는가?
  - 애플리케이션에서 필요한 대상을 찾는 룩업(lookup) 작업을 할 때 소요되는 대기 시간을 줄일 수 있다.


<br />

### 기본적인 애플리케이션 코딩은 잘 되어있는가?
- 명명 규칙은 잘 지켰는가? 
- 필요한 부분에 예외처리는 되어 있는가?
- 예외 화면은 지정되어 있는가?
- 예외 정보를 e.printStackTrace() 로만 처리하고 있지 않은가?
- System.gc() 메서드가 소스에 포함되어 있는가?
  - WAS 의 CPU 사용량이 급격하게 증가함
- System.exit() 메서드가 소스에 포함되어 있는가?
  - WAS 프로세스가 죽는다.
- 문자열을 계속 더하도록 코딩하지는 않았는가?
- StringBuffer , StringBuilder 클래스도 제대로 사용했는가?
- 무한 루프가 작동할 만한 코드는 없는가?
- static 을 남발하지 않았는가 ? 
- 필요한 부분에 synchronized 블록을 사용하였는가?
- IO가 계속 발생하도록 개발되어 있지 않은가?
- 필요 없는 로그는 다 제거했는가?
- 디버그용 Print 도 다 제거했는가?

<br />

### 웹 관련 코딩은 잘 되어 있는가?
- 자바 빈즈는 너무 많이 사용하지 않았는가?
- 이미지 서버를 사용할 수 있는 환경인가?

<br />

### DB 관련 코딩은 잘 되어 있는가??
- 적절한 JDBC 드라이버를 사용하는가?
- DB Connection, Statement, ResultSet 은 잘 닫았는가?
- DB Connection Pool 은 잘 사용하고 있는가?
- 자동 커밋 모드는 고려되었는가?
  - 조회성 프로그램도 자동 커밋 여부를 지정하면 응답 시간 저하가 발생한다.
  - 꼭 필요한 경우에만 사용하자.
- ResultSet.last() 메서드를 사용하였는가?
  - 전체 건수를 처리하기 위해서는 last() 메서드를 사용했는지 확인해야 한다.
  - 데이터가 많을 수록 응답 시간이 느려진다.

<br />

### 서버의 설정은 잘 되어 있는가?
- 자바 VM 관련 옵션들은 제대로 설정되어 있는가?
  - 64비트 기반일 때는 -d64 옵션을 사용해야 한다.
  - 클래스 패스는 순차적으로 이루어진다.
- 메모리는 몇 MB 로 설정해 놓았는가?
  - 기본 64MB 로 시작한다.
- GC 설정은 어떻게 되어있는가?
  - -client 로 설정되어 있는지 확인해보자.
- 서버가 운영 모드인지 개발모드인지 확인하였는가
  - 개발모드에서는 WAS 가 변경된 클래스가 있는지 주기적으로 확인한다.
- WAS의 인스턴스가 몇 개 기동되고 있는가?
  - WAS 에서 하나의 인스턴스 당 한 개는 있어야 한다.
- DB Connection Pool 개수와 스레드 개수는 적절한가?
  - 스레드 개수가 DB Connection Pool 의 수보다 절대로 적어서는 안 된다.
  - 스레드의 개수는 DB Connection Pool의 개수보다 10개정도 더 많이 설정한다.
  - 대부분 WAS 의 Connection Pool의 초기 값은 10~20개이다.
- 세션 타임아웃 시간은 적절한가.
  - 세션은 더이상 사용되지 않을 때 삭제되ㅓ야 한다.
- 검색 서버가 있다면, 검색 서버에 대한 설정 및 성능 테스트를 하였는가?
  - 일반적으로 검색 서버에서 주기적으로 데이터를 모으기위해서 서버의 리소스를 많이 사용하게 된다.

<br />

### 모니터링은 어떻게 하고 있는가?
- 웹 로그 (Access log) 는 남기고 있는가?
- verbosegc 옵션은 남기고 있는가?
  - GC 튜닝을 하는 시스템의 경우에만 남긴다.
- 각종 로그 파일에 대한 규칙은 있는가?
  - 파일링, 넘버링
- 서버의 시스템 사용률은 로그로 남기고 있는가?
  - WAS나 DB가 얼마나 사용을 하고 있는지 로그를 남겨야 한다.
- 모니터링 툴을 사용중인가?
- 모니터링 툴에 대한 설정은 적절하게 되어 있는가?
- 서버가 갑자기 코어 덤프를 발생시키지는 않는가?
  - 10,000 건 이상 조회하는 것이 있나 확인해야 한다.
  - 메모리락이 있는지 확인해야 한다.
- 응답 시간이 너무 느리지 않은가?
